(()=>{"use strict";var e={4212:(e,t,r)=>{var n=r(7378),a=r(1542),c=r(8036),o=r(5106);function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={tickets:[],isFetching:!0,isError:!1,sortBy:"fast",transitions:{all:!0,straight:!0,oneTransition:!0,twoTransition:!0,threeTransition:!0}};const p=(0,o.MT)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_FETCHING":return u(u({},e),{},{isFetching:t.payload});case"SET_IS_ERROR":return u(u({},e),{},{isError:t.payload});case"SET_TICKETS":return u(u({},e),{},{tickets:[].concat(i(e.tickets),i(t.payload)),isFetching:!1});case"SET_TRANSITIONS_FILTER":return u(u({},e),{},{transitions:t.payload});case"SET_SORTING":return u(u({},e),{},{sortBy:t.payload});default:return e}}));var d=r(3615),h=r.n(d);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,r,a,c,o=(a=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(a);if(c){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return E(this,e)});function i(){var e;b(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(_(e=o.call.apply(o,[this].concat(r))),"state",{hasError:!1}),e}return t=i,(r=[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.createElement("div",null,"Some Error"):this.props.children}}])&&y(t.prototype,r),i}(n.Component);O.propTypes={children:h().element};const N=O,S=r.p+"8bb77c6b0005cc90fc066a368eb7451a.svg",j=function(){return n.createElement("header",{className:"header"},n.createElement("div",{className:"header__logo"},n.createElement("img",{src:S,alt:"Aviasales Logo"})))},T=function(){return n.createElement("footer",{className:"footer"})};var x=function(e){var t=e.label;return n.createElement("label",{className:"checkbox"},n.createElement("input",{type:"checkbox",className:"checkbox__input"}),n.createElement("span",{className:"checkbox__custom"}),n.createElement("span",{className:"checkbox__text"},t))};x.propTypes={label:h().string};const P=x,I=function(){return n.createElement("div",{className:"filter"},n.createElement("div",{className:"filter__header"},"Количество пересадок"),n.createElement("div",{className:"filter__body"},n.createElement(P,{label:"Все"}),n.createElement(P,{label:"Все"}),n.createElement(P,{label:"Все"}),n.createElement(P,{label:"Все"}),n.createElement(P,{label:"Все"})))},R=function(){return n.createElement("div",{className:"tabs"},n.createElement("button",{className:"tabs__btn tabs__btn--left is-active"},"Лево"),n.createElement("button",{className:"tabs__btn tabs__btn--right"},"Право"))},D=function(){return n.createElement("div",{className:"loader"},n.createElement("div",{className:"lds-ring"},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null),n.createElement("div",null)))};var A=function(e){var t=e.ticket,r=t.carrier,a=t.price,c=t.to,o=t.from;return n.createElement("div",{className:"ticket-card"},n.createElement("div",{className:"ticket-card__header"},n.createElement("div",{className:"ticket-card__price"},"".concat(a," р.")),n.createElement("div",{className:"ticket-card__logo"},n.createElement("img",{src:"http://pics.avs.io/99/36/".concat(r,".png"),alt:r}))),n.createElement("div",{className:"ticket-card__body"},n.createElement("div",{className:"ticket-card__row row-ticket-card"},n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},c.direction),n.createElement("div",{className:"row-ticket-card__value"},c.timeInterval)),n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},"В ПУТИ"),n.createElement("div",{className:"row-ticket-card__value"},c.duration)),n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},0===c.stops.length?"прямой":c.stops.length>1?"".concat(c.stops.length," пересадки"):"".concat(c.stops.length," пересадка")),n.createElement("div",{className:"row-ticket-card__value"},0===c.stops.length?" ":c.stops.map((function(e,t){return t>=1?", ".concat(e):e}))))),n.createElement("div",{className:"ticket-card__row row-ticket-card"},n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},o.direction),n.createElement("div",{className:"row-ticket-card__value"},o.timeInterval)),n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},"В ПУТИ"),n.createElement("div",{className:"row-ticket-card__value"},o.duration)),n.createElement("div",{className:"row-ticket-card__col"},n.createElement("div",{className:"row-ticket-card__name"},0===o.stops.length?"прямой":o.stops.length>1?"".concat(o.stops.length," пересадки"):"".concat(o.stops.length," пересадка")),n.createElement("div",{className:"row-ticket-card__value"},0===o.stops.length?" ":o.stops.map((function(e,t){return t>=1?", "+e:e})))))))};A.propTypes={ticket:h().object};const C=A;var M=function(e){var t=e.callback;return n.createElement("div",{className:"error-indicator"},n.createElement("p",null,"Произошла непредвиденная ошибка."),n.createElement("button",{onClick:t},"Повторить попытку"))};M.propTypes={callback:h().func};const F=M;var H=function(e){var t=e.isError,r=e.isFetching,a=e.fetchData,c=e.tickets,o=e.shownTickets,i=e.showMoreTickets;return n.createElement("div",{className:"tickets"},n.createElement("div",{className:"tickets__body"},c.slice(0,o).map((function(e,t){return n.createElement(C,{key:t,ticket:e})}))),n.createElement("div",{className:"tickets__btn"},t?n.createElement(F,null):r?n.createElement(D,null):o>c.length?n.createElement("button",{onClick:a},"Загрузить еще..."):n.createElement("button",{onClick:i},"Показать еще...")))};H.propTypes={isFetching:h().bool,isError:h().bool,tickets:h().array,shownTickets:h().number,showMoreTickets:h().func,fetchData:h().func};const $=H;r(8784);var B=function(e){var t=60*e,r=Math.floor(t/60/60),n=Math.floor(t/60)-60*r;return"".concat(r," ч. ").concat(n," м.")},G=function(e,t){var r=new Date(e),n=new Date,a=r.getTime()+6e4*t;n.setTime(a);var c="".concat(r.getHours()<10?"0":"").concat(r.getHours(),":").concat(r.getMinutes()<10?"0":"").concat(r.getMinutes()),o="".concat(n.getHours()<10?"0":"").concat(n.getHours(),":").concat(n.getMinutes()<10?"0":"").concat(n.getMinutes());return"".concat(c," - ").concat(o)};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t,r,n,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,a)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){q(c,n,a,o,i,"next",e)}function i(e){q(c,n,a,o,i,"throw",e)}o(void 0)}))}}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._api="https://front-test.beta.aviasales.ru",this.searchId=null}var t,r,n,a;return t=e,(r=[{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(z(regeneratorRuntime.mark((function e(){var t,r,n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,fetch("".concat(this._api).concat(t));case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",K({},n));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))))},{key:"getSearchId",value:(a=z(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetch("/search");case 3:return t=e.sent,r=t.searchId,this.searchId=r,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:"getData",value:(n=z(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.searchId){e.next=4;break}return e.next=4,this.getSearchId();case 4:return e.next=6,this.fetch("/tickets?searchId=".concat(this.searchId));case 6:return t=e.sent,r=t.tickets,(n=t.stop)&&(this.searchId=null),e.abrupt("return",{end:n,tickets:r.map((function(e){return{carrier:e.carrier,price:e.price,totalDuration:e.segments[0].duration+e.segments[1].duration,totalTransitions:e.segments[0].stops.length+e.segments[1].stops.length,to:{timeInterval:G(e.segments[0].date,e.segments[0].duration),duration:B(e.segments[0].duration),stops:e.segments[0].stops,direction:"".concat(e.segments[0].origin," - ").concat(e.segments[0].destination)},from:{timeInterval:G(e.segments[1].date,e.segments[1].duration),duration:B(e.segments[1].duration),stops:e.segments[1].stops,direction:"".concat(e.segments[1].destination," - ").concat(e.segments[1].origin)}}}))});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return n.apply(this,arguments)})}])&&J(t.prototype,r),e}());function V(e,t,r,n,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){V(c,n,a,o,i,"next",e)}function i(e){V(c,n,a,o,i,"throw",e)}o(void 0)}))}}var X=function(e){return{type:"SET_IS_FETCHING",payload:e}},Y=function(e){return{type:"SET_IS_ERROR",payload:e}},Z=function(e){return W(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(X(!0)),e(Y(!1)),t.prev=2,t.next=5,Q.getData();case 5:return r=t.sent,n=r.end,a=r.tickets,e({type:"SET_TICKETS",payload:a}),e(X(!1)),e(Y(!1)),t.abrupt("return",n);case 14:return t.prev=14,t.t0=t.catch(2),e(Y(!0)),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te=function(e){var t,r,a=e.isError,c=e.isFetching,o=e.tickets,i=e.fetchData,s=(t=(0,n.useState)(5),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1];return(0,n.useEffect)((function(){return i()}),[]),a&&!o.length?n.createElement(F,{callback:i}):c&&!o.length?n.createElement(D,null):n.createElement($,{isError:a,isFetching:c,tickets:o,fetchData:i,shownTickets:l,showMoreTickets:function(){u(l+5)}})};te.propTypes={isFetching:h().bool,isError:h().bool,fetchData:h().func,tickets:h().array};const re=(0,c.$j)((function(e){var t=e.isFetching,r=e.isError;return{tickets:e.tickets,isFetching:t,isError:r}}),(function(e){return{fetchData:Z(e)}}))(te),ne=function(){return n.createElement("main",{className:"content"},n.createElement("div",{className:"content__col content__col--filter"},n.createElement(I,null)),n.createElement("div",{className:"content__col content__col--tickets"},n.createElement(R,null),n.createElement(re,null)))},ae=function(){return n.createElement("div",{className:"wrapper"},n.createElement("div",{className:"container"},n.createElement("div",{className:"aviasales"},n.createElement(j,null),n.createElement(ne,null),n.createElement(T,null))))};a.render(n.createElement(c.zt,{store:p},n.createElement(N,null,n.createElement(ae,null))),document.querySelector("#root"))}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.x=e=>{},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0},t=[[1202,93],[4212,93]],n=e=>{},a=(a,c)=>{for(var o,i,[s,l,u,m]=c,f=0,p=[];f<s.length;f++)i=s[f],r.o(e,i)&&e[i]&&p.push(e[i][0]),e[i]=0;for(o in l)r.o(l,o)&&(r.m[o]=l[o]);for(u&&u(r),a&&a(c);p.length;)p.shift()();return m&&t.push.apply(t,m),n()},c=self.webpackChunk=self.webpackChunk||[];function o(){for(var n,a=0;a<t.length;a++){for(var c=t[a],o=!0,i=1;i<c.length;i++){var s=c[i];0!==e[s]&&(o=!1)}o&&(t.splice(a--,1),n=r(r.s=c[0]))}return 0===t.length&&(r.x(),r.x=e=>{}),n}c.forEach(a.bind(null,0)),c.push=a.bind(null,c.push.bind(c));var i=r.x;r.x=()=>(r.x=i||(e=>{}),(n=o)())})(),r.x()})();